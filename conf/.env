# See https://docs.karakeep.app/configuration for more information

# --- Basics ---
HOSTNAME=127.0.0.1
PORT=__PORT_WEB__

NODE_ENV=production
SERVER_VERSION=__RELEASE__
NEXTAUTH_SECRET=__SECRET__
NEXTAUTH_URL=https://__DOMAIN__
DATA_DIR=__DATA_DIR__/db
ASSETS_DIR=__DATA_DIR__/assets

BROWSER_WEB_URL="http://localhost:__PORT_BROWSER__"

# --- Database ---
DB_WAL_MODE=true

# --- External Services (MeiliSearch & OpenAI) ---
# These are now populated by the config panel
MEILI_ADDR="__MEILI_ADDR__"
MEILI_MASTER_KEY="__MEILI_MASTER_KEY__"
OPENAI_API_KEY="__OPENAI_API_KEY__"

# --- AI Configuration for Ollama ---
OLLAMA_BASE_URL="__OLLAMA_BASE_URL__"

# --- AI Features (Booleans) ---
INFERENCE_ENABLE_AUTO_TAGGING=__INFERENCE_ENABLE_AUTO_TAGGING__
INFERENCE_ENABLE_AUTO_SUMMARIZATION=__INFERENCE_ENABLE_AUTO_SUMMARIZATION__

# --- AI Models ---
INFERENCE_TEXT_MODEL="__INFERENCE_TEXT_MODEL__"
INFERENCE_IMAGE_MODEL="__INFERENCE_IMAGE_MODEL__"
INFERENCE_LANG="__INFERENCE_LANG__"
EMBEDDING_TEXT_MODEL="__EMBEDDING_TEXT_MODEL__"

# --- Performance Tuning ---
INFERENCE_CONTEXT_LENGTH=__INFERENCE_CONTEXT_LENGTH__

# Timeouts: We apply the config value to both Job and Fetch timeouts for consistency
INFERENCE_JOB_TIMEOUT_SEC=__INFERENCE_JOB_TIMEOUT_SEC__
INFERENCE_FETCH_TIMEOUT_SEC=__INFERENCE_JOB_TIMEOUT_SEC__

# Workers: Critical for self-hosting performance
INFERENCE_NUM_WORKERS=__INFERENCE_NUM_WORKERS__
ASSET_PREPROCESSING_NUM_WORKERS=__ASSET_PREPROCESSING_NUM_WORKERS__

# --- Crawler Settings (Optional/Defaults) ---
# CRAWLER_VIDEO_DOWNLOAD=true
# CRAWLER_VIDEO_DOWNLOAD_MAX_SIZE=

# --- SMTP Configuration ---
SMTP_HOST=__DOMAIN__
SMTP_PORT=587
SMTP_SECURE=true
SMTP_USER=__APP__
SMTP_PASSWORD=__MAIL_PWD__
SMTP_FROM=__APP__@__DOMAIN__
